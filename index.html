<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸš—ì£¼ì°¨íƒ€ì›Œ ê´€ë¦¬</title>

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 15px;
  background: #f4f4f4;
  transition: 0.3s;
}

.dark {
  background: #121212;
  color: white;
}

.container {
  max-width: 1000px;
  margin: auto;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 10px;
}

.slot {
  border: 1px solid #ccc;
  padding: 12px;
  border-radius: 10px;
  background: white;
  transition: 0.2s;
}

.dark .slot {
  background: #1e1e1e;
  border-color: #444;
}

.slot strong {
  font-size: 14px;
}

input {
  width: 100%;
  margin-top: 8px;
  padding: 10px;
  font-size: 16px;
  box-sizing: border-box;
}

button {
  margin: 5px 5px 10px 0;
  padding: 10px 14px;
  font-size: 15px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
}

.hidden {
  display: none;
}

.top-bar {
  margin-bottom: 15px;
}
</style>
</head>

<body>

<div id="login">
  <h2>ë¹„ë°€ë²ˆí˜¸ ì…ë ¥</h2>
  <input type="password" id="passwordInput">
  <button onclick="checkPassword()">í™•ì¸</button>
</div>

<div id="main" class="hidden container">

  <h2>ì£¼ì°¨íƒ€ì›Œ ê´€ë¦¬ (1 ~ 48ë²ˆ)</h2>

  <div class="top-bar">
    <button onclick="toggleTheme()">ë‹¤í¬ / ë¼ì´íŠ¸</button>
    <button onclick="resetAll()">ì „ì²´ ì´ˆê¸°í™”</button>
    <button onclick="logout()">ì ê¸ˆ</button>
  </div>

  <div class="grid" id="grid"></div>
</div>

<script>
const PASSWORD = "1411";
const TOTAL_SLOTS = 48;

const loginDiv = document.getElementById("login");
const mainDiv = document.getElementById("main");
const grid = document.getElementById("grid");

function checkPassword() {
  const input = document.getElementById("passwordInput").value;
  if (input === PASSWORD) {
    localStorage.setItem("loggedIn", "true");
    loginDiv.classList.add("hidden");
    mainDiv.classList.remove("hidden");
  } else {
    alert("ë¹„ë°€ë²ˆí˜¸ í‹€ë¦¼");
  }
}

function logout() {
  localStorage.removeItem("loggedIn");
  mainDiv.classList.add("hidden");
  loginDiv.classList.remove("hidden");
  document.getElementById("passwordInput").value = "";
}

function generateSlots() {
  grid.innerHTML = "";
  for (let i = 1; i <= TOTAL_SLOTS; i++) {
    const div = document.createElement("div");
    div.className = "slot";
    div.innerHTML = `
      <strong>${i}ë²ˆ</strong>
      <input type="text"
             inputmode="text"
             id="slot-${i}"
             oninput="saveSlot(${i})"
             placeholder="ì°¨ëŸ‰ë²ˆí˜¸ ì…ë ¥">
    `;
    grid.appendChild(div);

    const saved = localStorage.getItem("slot-" + i);
    if (saved) {
      document.getElementById("slot-" + i).value = saved;
    }
  }
}

function saveSlot(i) {
  const value = document.getElementById("slot-" + i).value;
  localStorage.setItem("slot-" + i, value);
}

function resetAll() {
  if (!confirm("ì „ì²´ ì°¨ëŸ‰ë²ˆí˜¸ ì‚­ì œí• ê¹Œìš”?")) return;
  for (let i = 1; i <= TOTAL_SLOTS; i++) {
    localStorage.removeItem("slot-" + i);
  }
  generateSlots();
}

function toggleTheme() {
  document.body.classList.toggle("dark");
  const isDark = document.body.classList.contains("dark");
  localStorage.setItem("theme", isDark ? "dark" : "light");
}

(function init() {

  if (localStorage.getItem("theme") === "dark") {
    document.body.classList.add("dark");
  }

  if (localStorage.getItem("loggedIn") === "true") {
    loginDiv.classList.add("hidden");
    mainDiv.classList.remove("hidden");
  }

  generateSlots();

})();
</script>

</body>
</html>
